6.3 字符串常量

# 一、字符串常量是匿名对象

​        在Java中使用双引号定义的内容全部属于字符串常量，但是从严格意义上讲没有任何一种语言有字符串的概念，也就是说字符串都属于特殊的处理形式。

​        直接赋值的时候，实际上是将一个字符串的匿名对象设置了一个引用关联而已，即：双引号定义的字符串都属于一个**String类的匿名对象**。

```
public class Main {
    public static void main(String[] args) {
        String str = "hello";
        //如果"hello"能够调用String类的操作，说明其是String类匿名对象
        System.out.println("hello".equals(str));
    }
}

//结果
//true
```

​        既然字符串是匿名对象，那么也就是说直接我们做的直接赋值操作实际上是**对常量设置了一个引用栈内存空间**（将匿名对象的地址记录到栈内）。



# 二、重要小窍门：**匿名对象在前**

在以后如果进行内容判断，把匿名的字符串对象写在前面调用equals()方法可以避免空指针异常

```
//正确写法
"hello".equals(str);

//会出现空指针异常的写法
str.equals("hello");
```